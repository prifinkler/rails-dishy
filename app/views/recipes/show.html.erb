<div class="container show py-4 pb-20" style="background-image: linear-gradient(transparent 0%, transparent 25vh, black 45vh), url('<%= asset_path(@recipe.photo_url) %>');">
  <div class="container recipe-card py-4">
  <h1><%= @recipe.name%></h1>
    <%# <% if session[:last_viewed_recipe_id].present? %>
      <%# <%= button_tag "Back to Last Recipe", id: "back-to-last-recipe", "data-last-viewed-recipe-id": session[:last_viewed_recipe_id] %>
    <%# <% end %>
    <p><strong><%= @recipe.description %></strong></p>
    <h5>Time: <%= "#{@recipe.time} mins" %></h5>
    <h5>Ingredients</h5>
    <ul>
      <% @recipe.ingredients.each do |ingredient| %>
          <li><%= ingredient.name %></li>
      <% end %>
    </ul>
    <h5>Cuisines</h5>
    <ul>
      <% @recipe.cuisines.each do |cuisine| %>
          <li><%= cuisine.name %></li>
      <% end %>
    </ul>
    <h5>Dietary Restrictions</h5>
    <ul >
      <% @recipe.dietaries.each do |dietary| %>
          <li><%= dietary.dietary_type %></li>
      <% end %>
    </ul>
    <h5>Instructions</h5>
    <ul>
      <% @recipe.instruction.each_line do |line| %>
        <li><%= line.strip %></li>
      <% end %>
    </ul>
    <div style="margin: 30px 0;">
      <%= link_to "Back to recipes", recipes_path, method: :get, class: "main-btn" %>
    </div>
  </div>
  <%= render "shared/navbar" %>

<%# <script>
document.addEventListener('DOMContentLoaded', function () {
  var backToLastRecipeButton = document.getElementById('back-to-last-recipe');
  console.log(backToLastRecipeButton);

  var lastViewedRecipeId = backToLastRecipeButton.getAttribute('data-last-viewed-recipe-id');
  console.log(lastViewedRecipeId);

    backToLastRecipeButton.addEventListener('click', function () {
      if (lastViewedRecipeId) {
        window.location.href = '/recipes/' + lastViewedRecipeId;
      }
    });
});
</script> %>
